/* === MOVIE CARD (only card-specific rules) =============================== */

.movie-card { position: relative; }

/* Otsikko: yksi rivi, ellipsis */
.movie-card .card-title {
  font-weight: 700;
  font-size: 1rem;
  line-height: 1.25rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Poster-kuva */
.card-poster { object-fit: cover; }

/* Floating reactive heart button */
.floating-heart-btn {
  position: absolute;
  width: 40px; height: 40px;
  display: inline-flex; align-items: center; justify-content: center;
  border: none;
  transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease, opacity 120ms ease;
  opacity: .95;
  z-index: 2; /* yli posterin */
}

/* Sijainti: oikea yläkulma posterista */
.heart-top-right { top: .5rem; right: .5rem; }

.floating-heart-btn:hover { transform: translateY(-1px) scale(1.05); }
.floating-heart-btn:active { transform: scale(0.98); }
.floating-heart-btn.is-active { color: var(--bs-danger); }
.floating-heart-btn .heart-icon { display: block; }

/* Overview – perusmuoto (kortti kiinni) */
.movie-card .card-text {
  font-size: .85rem;
  line-height: 1.3rem;
  margin-top: .5rem;

  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 2/3 leveä modali */
.modal-66w { max-width: 66vw; }
@media (max-width: 992px) { .modal-66w { max-width: 92vw; } }

/* jos komponentissa on jo .line-clamp-5, pidetään se mukana */
.movie-card .card-text.line-clamp-5 { -webkit-line-clamp: 5; }

/* Meta-teksti hieman pienemmäksi pienillä */
.movie-meta { color: #6c757d; font-size: .9rem; }

/* ≤ 1200px: 4 riviä */
@media (max-width: 1200px) {
  .movie-card .card-text,
  .movie-card .card-text.line-clamp-5 { -webkit-line-clamp: 4; }
}

/* ≤ 992px: 3 riviä ja tiiviimpi */
@media (max-width: 992px) {
  .movie-card .card-text,
  .movie-card .card-text.line-clamp-5 { -webkit-line-clamp: 3; }
  .movie-card .card-text { font-size: .82rem; }
  .movie-meta { font-size: .85rem; }
  .movie-card .card-body { padding: .75rem .9rem; }
}

/* ≤ 768px: 2 riviä + tiiviimpi padding */
@media (max-width: 768px) {
  .movie-card .card-text,
  .movie-card .card-text.line-clamp-5 { -webkit-line-clamp: 2; }
  .movie-card .card-text { font-size: .8rem; }
  .movie-meta { font-size: .82rem; }
  .movie-card .card-body { padding: .6rem .8rem; }
}

/* ≤ 576px */
@media (max-width: 576px) {
  .movie-card .card-text { font-size: .78rem; }
  .movie-meta { font-size: .8rem; }
  .floating-heart-btn { width: 34px; height: 34px; }
}

/* --- Hover-delayed overview reveal -------------------------------------- */
.movie-card .overview-wrap {
  max-height: 0;
  overflow: hidden;
  transition: max-height 420ms ease, margin-top 300ms ease;
  margin-top: 0;
}

.movie-card.is-revealed .overview-wrap {
  max-height: 20.5rem;   /* ≈ 15 rows */
  margin-top: .5rem;
}

.movie-card .overview-content {
  font-size: .85rem;
  line-height: 1.3rem;
  color: var(--fg, inherit);
  opacity: 0;
  transform: translateY(-4px);
  transition: opacity 300ms ease, transform 300ms ease;

  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 15;
  overflow: hidden;
}

.movie-card.is-revealed .overview-content {
  opacity: .92;
  transform: translateY(0);
}

@media (max-width: 768px) {
  .movie-card.is-revealed .overview-wrap { max-height: 12rem; } /* ~9 riviä */
  .movie-card .overview-content { -webkit-line-clamp: 9; }
}
